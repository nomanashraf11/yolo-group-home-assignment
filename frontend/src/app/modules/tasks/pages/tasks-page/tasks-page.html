<div class="tasks-page">
  <div class="header">
    <div class="header-content">
      <div class="header-title">
        <h1>My Tasks</h1>
        <p class="subtitle">Manage your work and stay organized</p>
      </div>
      <app-button
        type="primary"
        size="medium"
        icon="add"
        (click)="openTaskForm(categories)"
      >
        New Task
      </app-button>
    </div>
  </div>

  <div class="filters-section">
    <app-filter-panel
      (filterChange)="onFilterChange($event)"
    ></app-filter-panel>
  </div>

  <div class="tasks-section">
    <div class="tasks-container">
      <div class="tasks-header">
        <h2 class="tasks-title">
          All Tasks <span class="task-count">{{totalTasks}} items</span>
        </h2>
      </div>

      <app-tasks-list
        [tasks]="tasks"
        [isLoading]="isLoading"
        (editTask)="openTaskForm(categories,$event)"
        (deleteTask)="deleteTask($event)"
        [sortBy]="sortBy"
        [sortDirection]="sortDirection"
        (sortChange)="onSortChange($event)"
        (categories)="categories"
      ></app-tasks-list>

      <app-pagination
        *ngIf="totalTasks > itemsPerPage"
        [currentPage]="currentPage"
        [itemsPerPage]="itemsPerPage"
        [totalItems]="totalTasks"
        (pageChange)="onPageChange($event)"
      ></app-pagination>
    </div>
  </div>
</div>
